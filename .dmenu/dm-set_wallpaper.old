#!/bin/bash


listofbackgrounds=$(ls -d /var/pictures/backgrounds/* )  
dire=/var/pictures/backgrounds

declare -A morebackgrounds

morebackgrounds[anime]="/mnt/.backup-btrfs/media/pictures/.anime/"
morebackgrounds[berrygood]="$HOME/Pictures/kpop/berrygood"
morebackgrounds[bts]="$HOME/Pictures/kpop/bts"
morebackgrounds[everglow]="$HOME/Pictures/kpop/everglow"
morebackgrounds[itzy]="$HOME/Pictures/kpop/itzy"
morebackgrounds[laysha]="$HOME/Pictures/kpop/laysha"
morebackgrounds[mamamoo]="$HOME/Pictures/kpop/mamamoo"
morebackgrounds[tri.be]="$HOME/Pictures/kpop/tri.be"
morebackgrounds[blackpink]="$HOME/Pictures/kpop/blackpink"
morebackgrounds[cignature]="$HOME/Pictures/kpop/cignature"
morebackgrounds[hot-issue]="$HOME/Pictures/kpop/hot-issue"
morebackgrounds[ive]="$HOME/Pictures/kpop/ive"
morebackgrounds[kpopw]="$HOME/Pictures/kpop/kpopw"
morebackgrounds[lunarsolar]="$HOME/Pictures/kpop/lunarsolar"
morebackgrounds[stayc]="$HOME/Pictures/kpop/stayc"
morebackgrounds[dracula_theme]="$HOME/Pictures/dracula"


choice=$(printf '%s\n' "more" "${listofbackgrounds[@]}" | awk -F / '{print $NF}' | rofi -dmenu -p "Choose your wallpaper:"  )


if [ $choice = "more" ] ; then


custom=$(printf '%s\n'  "${!morebackgrounds[@]}" | awk -F / '{print $NF}' | rofi -dmenu -p "Choose your path:"  )

custom=$(printf '%s\n' "${morebackgrounds[$custom]}" )

[ -z $custom ] && exit

listofbackgrounds=$(ls -d $custom/* )


choice=$(printf '%s\n'  "${listofbackgrounds[@]}" | awk -F / '{print $NF}' | rofi -dmenu -p "Choose your wallpaper:"  )

dire=$(echo $custom)

fi


make_path="$dire/$choice"


if [ -z $choice ]

then 

    echo " "

else


feh --bg-fill $make_path 




sudo cp $make_path /usr/share/backgrounds/arch/lockscreen.jpg


fi



